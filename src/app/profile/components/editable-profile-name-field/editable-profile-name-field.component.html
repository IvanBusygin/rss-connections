<div class="">
  @if (isEditState) {
    <form
      (ngSubmit)="onSubmit()"
      [formGroup]="form"
      id="formTextId"
    >
      <mat-form-field appearance="fill">
        <input
          matInput
          formControlName="name"
        />
        <mat-error>
          @if (name?.hasError('required')) {
            Please enter your name.
          }
          @if (name?.hasError('maxlength')) {
            The maximum length is 40 characters.
          }
          @if (name?.hasError('wrongLetters')) {
            Allowed only letters or spaces.
          }
        </mat-error>
      </mat-form-field>
    </form>
  } @else {
    <mat-card-content> {{ textValue }} </mat-card-content>
  }
</div>

<div class="">
  @if (isEditState) {
    <button
      mat-icon-button
      color="primary"
      form="formTextId"
      type="submit"
    >
      <mat-icon> done </mat-icon>
    </button>
    <button
      mat-icon-button
      color="warn"
      (click)="cancel()"
    >
      <mat-icon> close </mat-icon>
    </button>
  } @else {
    <button
      [disabled]="isLoading$ | async"
      mat-icon-button
      color="primary"
      (click)="edit()"
    >
      <mat-icon> edit </mat-icon>
    </button>
  }
</div>
